(()=>{"use strict";const l=[[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,"white-piece","black-piece",null,null,null],[null,null,null,"black-piece","white-piece",null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null]];(function(l){const n=[...Array(8)].map((l=>[...Array(8)].map((l=>!1))));l.forEach((l=>{let[u,t]=l;return n[u][t]=!0}))})(e(l,"black")),r(l);function n(l,n){return l>=0&&l<8&&n>=0&&n<8}function u(l,u,t,e,c){const r=`${e}-piece`,i=`${function(l){return"black"===l?"white":"black"}(e)}-piece`,o=[];return[[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]].forEach((e=>{const[a,f]=e,s=[];let h=u+a,b=t+f;if(n(h,b)&&l[h][b]===i)for(;n(h,b);){const n=l[h][b];if(n===i)s.push([h,b]);else{if(null===n)break;if(n===r){if(o.push(...s),c)return[o];break}}h+=a,b+=f}})),o}const t=(l,n,t,e)=>{const c=JSON.parse(JSON.stringify(l));return((l,n,u,t)=>{l[u][t]=`${n}-piece`})(c,n,t,e),((l,n,t,e)=>{u(l,t,e,n).forEach((u=>{let[t,e]=u;l[t][e]=`${n}-piece`}))})(c,n,t,e),c};function e(l,n){const t=[];return l.forEach(((e,c)=>{e.forEach(((e,r)=>{if(null===e){u(l,c,r,n,!0).length>0&&t.push([c,r])}}))})),t}const c=(l,n)=>{const u=l.every((l=>l.every((l=>null!==l)))),t=0===n.length;return!(!u&&!t)};function r(l){let n={black:0,white:0};return l.forEach((l=>{l.forEach((l=>{"black-piece"===l?n.black++:"white-piece"===l&&n.white++}))})),n}function i(l,n,u,o,a){let f=null;if(f=e(l,a?"black":"white"),0===n||c(l,f)){const n=function(l){const{black:n,white:u}=r(l);return n-u}(l);return n}if(a){let e=-1/0;for(let c of f){const r=i(t(l,"black",c[0],c[1]),n-1,u,o,!1);if(e=Math.max(e,r),o<=(u=Math.max(u,r)))break}return e}{let e=1/0;for(let c of f){const r=i(t(l,"white",c[0],c[1]),n-1,u,o,!0);if(e=Math.min(e,r),(o=Math.min(o,r))<=u)break}return e}}onmessage=function(l){const[n,u,c]=l.data,r=function(l,n,u){const c="black"===n,r=e(l,n);let o=null;if(c){let n=-1/0;return r.forEach((e=>{const c=i(t(l,"black",e[0],e[1]),u-1,n,1/0,!1);c>n&&(o=e,n=c)})),[o,n]}{let n=1/0;return r.forEach((e=>{const c=i(t(l,"white",e[0],e[1]),u-1,-1/0,n,!0);c<n&&(o=e,n=c)})),[o,n]}}(n,u,c);postMessage(r)}})();
//# sourceMappingURL=791.54fcb0de.chunk.js.map